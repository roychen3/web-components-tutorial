(()=>{"use strict";class e extends HTMLButtonElement{constructor(){self=super(),self.style.cssText="\n        font-weight: 700;\n        border-radius: 9px;\n        background-color: white;\n        padding: 9px 18px;\n        cursor: pointer;\n    "}}const t=e,n=()=>{const e=document.querySelector("modal-shell");document.body.removeChild(e)},o=document.createElement("template");o.innerHTML='\n<style>\n.modal-shell {\n  width: 40%;\n  border-radius: 9px;\n  border: solid 2px black;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: end;\n  border-bottom: solid 2px black;\n}\n\n.close {\n  padding: 9px;\n  cursor: pointer;\n}\n\n.modal-content{\n  padding: 9px;\n}\n</style>\n\n<div class="modal-shell">\n  <div class="modal-header">\n    <span class="close">X</span>\n  </div>\n  <div class="modal-content">\n    <slot name="modal-content" />\n  </div>\n</div>\n';class s extends HTMLElement{constructor(){super(),this.showInfo=!0,this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(o.content.cloneNode(!0))}connectedCallback(){this.shadowRoot.querySelector(".close").addEventListener("click",n)}disconnectedCallback(){this.shadowRoot.querySelector(".close").removeEventListener("click",n)}}const d=s,r=document.createElement("template");r.innerHTML='\n<style>\n\n.product-image {\n  max-width: 200px;\n}\n\n.product-name {\n  font-size: 18px;\n  font-weight: 700;\n}\n\n.product-price {\n  font-weight: 700;\n  margin-bottom: 36px\n}\n\n.button-container {\n  text-align: center;\n}\n\n</style>\n\n<img class="product-image" />\n<p class="product-name"></p>\n<p class="product-price"></p>\n<div class="button-container">\n  <button is="submit-button" class="add-to-cart">加入購物車</button>\n</div>\n';class c extends HTMLElement{constructor(){super(),this.showInfo=!0,this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(r.content.cloneNode(!0)),this.shadowRoot.querySelector(".product-image").src=this.getAttribute("product-image"),this.shadowRoot.querySelector(".product-name").innerText=this.getAttribute("product-name"),this.shadowRoot.querySelector(".product-price").innerText=`￥${this.getAttribute("product-price")} (含稅)`}static get observedAttributes(){return["product-image","product-name","product-price"]}connectedCallback(){this.shadowRoot.querySelector(".add-to-cart").addEventListener("click",this.addToCart)}disconnectedCallback(){this.shadowRoot.querySelector(".add-to-cart").removeEventListener("click",this.addToCart)}attributeChangedCallback(e,t,n){switch(e){case"product-image":if(t===n)break;this.shadowRoot.querySelector(".product-image").src=n;break;case"product-name":if(t===n)break;this.shadowRoot.querySelector(".product-name").innerText=n;case"product-price":if(t===n)break;this.shadowRoot.querySelector(".product-price").innerText=`￥${n} (含稅)`}}addToCart(){console.log("add product to cart..."),document.querySelector('div[slot="modal-content"]').innerHTML="<added-message />"}}const a=c,i=document.createElement("template");i.innerHTML='\n<style>\n\n.container {\n  text-align: center;\n}\n\n.message {\n  margin-top: 36px;\n  margin-bottom: 36px;\n  font-size: 27px;\n  font-weight: 700;\n}\n\n</style>\n\n<div class="container">\n  <p class="message">商品已加入您的購物車</p>\n  <button is="submit-button">前往結賬</button>\n  <button is="normal-button" class="continue-purchase">繼續購物</button>\n</div>\n\n';class l extends HTMLElement{constructor(){super(),this.showInfo=!0,this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(i.content.cloneNode(!0))}connectedCallback(){this.shadowRoot.querySelector(".continue-purchase").addEventListener("click",n)}disconnectedCallback(){this.shadowRoot.querySelector(".continue-purchase").removeEventListener("click",n)}}const u=l,m=document.createElement("template");m.innerHTML='\n<style>\n\nfieldset {\n  margin-bottom: 9px;\n  border-radius: 9px;\n  border: solid 2px black;\n}\n\n.button-container {\n  text-align: center;\n}\n\n</style>\n\n<div class="container">\n  <form>\n    <fieldset>\n      <legend>購買原因</legend>\n\n      <input type="radio" id="self" name="q1" required />\n      <label for="self">自己用</label><br />\n\n      <input type="radio" id="family&friend" name="q1" required />\n      <label for="family&friend">幫家人朋友購買</label><br />\n    </fieldset>\n\n    <fieldset>\n      <legend>是否了解購買須知</legend>\n\n      <input type="radio" id="yes" name="q2" required />\n      <label for="yes">了解</label><br />\n\n      <input type="radio" id="no" name="q2" required />\n      <label for="no">不了解</label><br />\n    </fieldset>\n\n    <div class="button-container">\n      <button is="submit-button" type="submit">送出</button>\n    </div>\n  </form>\n</div>\n';class p extends HTMLElement{constructor(){super(),this.showInfo=!0,this.attachShadow({mode:"open"}),this.shadowRoot.appendChild(m.content.cloneNode(!0))}addToCart(e){e.preventDefault(),console.log("add product to cart..."),document.querySelector('div[slot="modal-content"]').innerHTML="<added-message />"}connectedCallback(){this.shadowRoot.querySelector("form").addEventListener("submit",this.addToCart)}disconnectedCallback(){this.shadowRoot.querySelector("form").removeEventListener("submit",this.addToCart)}}const h=p;window.customElements.define("submit-button",class extends t{constructor(){self=super(),self.style.backgroundColor="aqua"}},{extends:"button"}),window.customElements.define("normal-button",t,{extends:"button"}),window.customElements.define("modal-shell",d),window.customElements.define("product-info",a),window.customElements.define("sundrug-productinfo",class extends a{constructor(){super()}addToCart(){document.querySelector('div[slot="modal-content"]').innerHTML="<purchase-questionnaire />"}}),window.customElements.define("added-message",u),window.customElements.define("purchase-questionnaire",h),document.querySelector(".update-product").addEventListener("click",(()=>(()=>{if(!document.querySelector("modal-shell"))return;const e=document.querySelector("sundrug-productinfo");e.setAttribute("product-image","https://ec.sundrug.co.jp/eccontents/img/commodity/shop/00000000/commodity/4987107614704_common.jpg?NoPhoto=true"),e.setAttribute("product-name","【指定第2類医薬品】プレコール持続性カプセル 36カプセル 【セルフメディケーション税制対象】"),e.setAttribute("product-price","1,304")})())),document.querySelector(".open-modal").addEventListener("click",(()=>(()=>{if(document.querySelector("modal-shell"))return;const e=document.createElement("sundrug-productinfo");e.setAttribute("product-image","https://ec.sundrug.co.jp/eccontents/img/commodity/shop/00000000/commodity/4987306045156_common.jpg?NoPhoto=true"),e.setAttribute("product-name","【指定第2類医薬品】パブロンゴールドA微粒 44包 【セルフメディケーション税制対象】"),e.setAttribute("product-price","1,508");const t=document.createElement("div");t.setAttribute("slot","modal-content"),t.appendChild(e);const n=document.createElement("modal-shell");n.appendChild(t),document.body.appendChild(n)})()))})();